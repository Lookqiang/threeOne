(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{308:function(t,s,e){"use strict";e.r(s);var a=e(14),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vuepress-如何部署在-github-page"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-如何部署在-github-page"}},[t._v("#")]),t._v(" vuePress 如何部署在 GitHub page")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("本文主要目标\n- [ ] vuePress部署在GitHub page的静态网站(GitHub Pages)\n- [ ] push代码到GitHub，github进行自动部署(Github Actions)\n")])])]),s("h2",{attrs:{id:"vuepress-如何部署在-github-pages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-如何部署在-github-pages"}},[t._v("#")]),t._v(" vuePress 如何部署在 GitHub Pages")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("在 docs/.vuepress/config.js 中设置正确的 base。")]),t._v(" "),s("p",[t._v("如果你打算发布到 "),s("code",[t._v("https://<USERNAME>.github.io/")]),t._v('，则可以省略这一步，因为 base 默认即是 "/"。\n如果你打算发布到 '),s("code",[t._v("https://<USERNAME>.github.io/<REPO>/")]),t._v("（也就是说你的仓库在 "),s("code",[t._v("https://github.com/<USERNAME>/<REPO>")]),t._v("），则将 base 设置为 "),s("code",[t._v('"/<REPO>/"')]),t._v("。")])])]),t._v(" "),s("h2",{attrs:{id:"github-actions-提交代码后自动部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-actions-提交代码后自动部署"}},[t._v("#")]),t._v(" Github Actions 提交代码后自动部署")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("创建 Github access token (opens new window);")]),t._v(" "),s("ol",[s("li",[t._v("click your profile icon")]),t._v(" "),s("li",[t._v("Settings")]),t._v(" "),s("li",[t._v("Developer settings")]),t._v(" "),s("li",[t._v("Personal access tokens ( Tokens (classic))")]),t._v(" "),s("li",[t._v("Generate new token (Classic)")]),t._v(" "),s("li",[t._v("得到 token")])])]),t._v(" "),s("li",[s("p",[t._v("在你 github 仓库下，创建一个 secrets (opens new window)，填入刚创建的 token")]),t._v(" "),s("ol",[s("li",[t._v("click Settings")]),t._v(" "),s("li",[t._v("Secrets (actions)")]),t._v(" "),s("li",[t._v("click New repository secret")]),t._v(" "),s("li",[t._v("Actions secrets / New secret\n"),s("ol",[s("li",[t._v('"Name" : ACCESS_TOKEN')]),t._v(" "),s("li",[t._v('"secret" : 1-6 复制的 token')])])])])]),t._v(" "),s("li",[s("p",[t._v("在项目根目录下的 .github/workflows 目录（没有的话，请手动创建一个）下创建一个 .yml 或者 .yaml 文件，如:docs.yml;")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docs\n "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("push"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("docs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n     "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Checkout\n         "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@master\n         "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("persist-credentials")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" vuepress"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy\n         "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jenkey2011/vuepress"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy@master "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用jenkey2011/vuepress-deploy项目")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#目标仓库")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("TARGET_REPO")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Lookqiang/threeOne "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#目标仓库 <USERNAME>（用户名）/<REPO>（仓库名）")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("TARGET_BRANCH")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" blog  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#目标仓库的分支")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BUILD_SCRIPT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yarn "),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" yarn docs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("build "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#构建脚本：自己创建运行的命令 package.json-> scripts:{docs:build:"vuepress build docs"}')]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BUILD_DIR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" docs/.vuepress/dist "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置构建产物的目录")]),t._v("\n")])])]),s("p",[t._v("详细使用方法，可以看"),s("a",{attrs:{href:"https://github.com/jenkey2011/vuepress-deploy/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-deploy"),s("OutboundLink")],1)])])]),t._v(" "),s("p",[t._v("4、查看地址："),s("a",{attrs:{href:"https://lookqiang.github.io/threeOne/guide/one.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("lookqiang.github.io/threeOne/guide/one"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);